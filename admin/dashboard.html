<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Admin Dashboard | ShopKapilAgro</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="admin.css">
</head>
<body>

<!-- 🔗 Load shared navbar -->
<div id="navbar"></div>

<!-- 🌾 Admin Dashboard -->
<div class="container py-5">
  <h2 class="text-success fw-bold text-center mb-5">👨‍🌾 Welcome, Admin</h2>

  <div class="row g-4">
    <!-- Manage Categories -->
    <div class="col-md-4">
      <a href="categories.html" class="text-decoration-none">
        <div class="card text-center shadow-sm h-100 border-success">
          <div class="card-body">
            <h4 class="text-success">📂 Manage Categories</h4>
            <p class="text-muted">Add, edit, or delete product categories.</p>
          </div>
        </div>
      </a>
    </div>

    <!-- Manage Products -->
    <div class="col-md-4">
      <a href="products.html" class="text-decoration-none">
        <div class="card text-center shadow-sm h-100 border-success">
          <div class="card-body">
            <h4 class="text-success">🌽 Manage Products</h4>
            <p class="text-muted">Upload and maintain your store products.</p>
          </div>
        </div>
      </a>
    </div>

    <!-- Add Admin -->
    <div class="col-md-4">
      <a href="add-admin.html" class="text-decoration-none">
        <div class="card text-center shadow-sm h-100 border-success">
          <div class="card-body">
            <h4 class="text-success">👥 Manage Admins</h4>
            <p class="text-muted">Add new admin accounts to the platform.</p>
          </div>
        </div>
      </a>
    </div>
  </div>
</div>

<!-- 🔐 Admin-only protection + Load navbar -->
<script>
  const userId = localStorage.getItem("userId");
  const role = localStorage.getItem("role");

  if (!userId || role !== 'ADMIN') {
    window.location.href = "login.html";
  }

  fetch('components/navbar.html')
    .then(res => res.text())
    .then(html => {
      document.getElementById('navbar').innerHTML = html;
       // Show admin name
       const adminName = localStorage.getItem("userName");
      if (adminName) {
        const nameDisplay = document.getElementById("adminNameDisplay");
        if (nameDisplay) nameDisplay.textContent = `👤 ${adminName}`;
      }
    });

  function logout() {
    localStorage.clear();
    window.location.href = "login.html";
  }
</script>

</body>
</html>
